<!doctype html>
<title>RolleiVision MSC Remote</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width, user-scalable=0">
<meta name=apple-mobile-web-app-capable content=yes>
<meta name=apple-mobile-web-app-status-bar-style content=black>
<link href=/static/favicon.ico rel=icon type=image/x-icon>
<link rel=stylesheet href=/static/style.css>

<script src=/static/xhr.js></script>
<script src=/static/mousetrap.min.js></script>
<script src=/static/rolleivision.js></script>
<body id=fullscreen>
<table id=remote>
  <tr>
    <td>
      <span id=projector_status>
        Projector
        <span id=projector_status_online style=display:none>online</span>
        <span id=projector_status_offline>offline</span>
      </span>
    </td>
    <td>
    </td>
    <td>
      <span id=xhr_poll_status style=display:none onclick="XHR.running() ? XHR.halt() : XHR.run()">
        Auto Refresh:
        <span id=xhr_poll_status_on>on</span>
        <span id=xhr_poll_status_off style="display:none">off</span>
      </span>
    </td>
  </tr>
  <tr>
    <td>
      <button id=stopgo onclick="submit({'action': 'togglestop'}, this)">STOP / GO</button>
    </td>
    <td>
      <button id=forward onclick="submit({'action': 'next'}, this)" class="big positive">▲</button>
    </td>
    <td>
      <button id=focusin onclick="submit({'action': 'focusin'}, this)">FOCUS IN</button>
    </td>
  </tr>
  <tr>
    <td>
      <button id=autofocus onclick="submit({'action': 'toggleAF'}, this)">AUTOFOCUS</button>
    </td>
    <td>
      <button id=back onclick="submit({'action': 'previous'}, this)" class="big positive">▼</button>
    </td>
    <td>
      <button id=focusout onclick="submit({'action': 'focusout'}, this)">FOCUS OUT</button>
    </td>
  </tr>
  <tr>
    <td colspan=3>
      <hr>
    </td>
  </tr>
  <tr>
    <td>
      <span>LEFT</span>
    </td>
    <td>
    </td>
    <td>
      <span>RIGHT</span>
    </td>
  </tr>
  <tr>
    <td>
      <button id=leftlamp onclick="submit({'action': 'toggleleftlamp'}, this)" class=big>
          <svg xmlns="http://www.w3.org/2000/svg" width=40px height=40px viewBox="0 0 16 19">
            <g style="fill:#565656">
            <path d="m8 3c-2.75 0-5 2.25-5 5 0 1.586 0.845 2.9 2 3.81v2.19 1h1 4 1v-1-2.188c1.16-0.91 2-2.224 2-3.81 0-2.75-2.25-5-5-5zm0 2c1.669 0 3 1.331 3 3 0 1.116-0.5951 2.038-1.5 2.562l-0.5 0.32v0.56 1.56h-2v-1.56-0.56l-0.5-0.32c-0.9-0.52-1.5-1.438-1.5-2.558 0-1.668 1.331-3 3-3z"/>
            <path d="m6 18v1h4v-1h-4z"/>
            <path d="m5 16v1h6v-1h-6z"/>
            <path style="opacity:.35" d="m7 8v1h2v-1h-2z"/>
            </g>
            <g class=bulbglow>
            <g style="fill:#ce5c00">
            <path d="m8 3c-2.75 0-5 2.25-5 5 0 1.586 0.845 2.9 2 3.81v2.19 1h1 4 1v-1-2.188c1.16-0.91 2-2.224 2-3.81 0-2.75-2.25-5-5-5zm0 2c1.669 0 3 1.331 3 3 0 1.116-0.5951 2.038-1.5 2.562l-0.5 0.32v0.56 1.56h-2v-1.56-0.56l-0.5-0.32c-0.9-0.52-1.5-1.438-1.5-2.558 0-1.668 1.331-3 3-3z"/>
            <path d="m6 18v1h4v-1h-4z"/>
            <path d="m5 16v1h6v-1h-6z"/>
            <path style="opacity:.35" d="m7 8v1h2v-1h-2z"/>
            </g>
            <g style="fill:#f57900">
            <rect rx=".5625" ry=".5625" height="2" width="2" y="7.031" x=".006833"/>
            <rect rx=".5625" ry=".5625" height="2" width="2" y="7.031" x="14.01"/>
            <rect ry=".5625" rx=".5625" transform="rotate(90)" height="2" width="2" y="-9" x="0"/>
            <rect ry=".5625" rx=".5625" transform="rotate(135)" height="2" width="2" y="-12" x="-8"/>
            <rect ry=".5625" rx=".5625" transform="rotate(135)" height="2" width="2" y="-12" x="6"/>
            <rect ry=".5625" rx=".5625" transform="rotate(135)" height="2" width="2" y="-19" x="-1"/>
            <rect ry=".5625" rx=".5625" transform="rotate(45)" height="2" width="2" y="-.5996" x="3.724"/>
            <path style="opacity:.8" d="m7.109 8.217v1h2v-1h-2z"/>
            </g>
            </g>
          </svg>
      </button>
    </td>
    <td>
      <button id=lamps onclick="toggleLamps(this)" class=big>☀☀</button>
    </td>
    <td>
      <button id=rightlamp onclick="submit({'action': 'togglerightlamp'}, this)" class=big>
          <svg xmlns="http://www.w3.org/2000/svg" width=40px height=40px viewBox="0 0 16 19">
            <g style="fill:#565656">
            <path d="m8 3c-2.75 0-5 2.25-5 5 0 1.586 0.845 2.9 2 3.81v2.19 1h1 4 1v-1-2.188c1.16-0.91 2-2.224 2-3.81 0-2.75-2.25-5-5-5zm0 2c1.669 0 3 1.331 3 3 0 1.116-0.5951 2.038-1.5 2.562l-0.5 0.32v0.56 1.56h-2v-1.56-0.56l-0.5-0.32c-0.9-0.52-1.5-1.438-1.5-2.558 0-1.668 1.331-3 3-3z"/>
            <path d="m6 18v1h4v-1h-4z"/>
            <path d="m5 16v1h6v-1h-6z"/>
            <path style="opacity:.35" d="m7 8v1h2v-1h-2z"/>
            </g>
            <g class=bulbglow>
            <g style="fill:#ce5c00">
            <path d="m8 3c-2.75 0-5 2.25-5 5 0 1.586 0.845 2.9 2 3.81v2.19 1h1 4 1v-1-2.188c1.16-0.91 2-2.224 2-3.81 0-2.75-2.25-5-5-5zm0 2c1.669 0 3 1.331 3 3 0 1.116-0.5951 2.038-1.5 2.562l-0.5 0.32v0.56 1.56h-2v-1.56-0.56l-0.5-0.32c-0.9-0.52-1.5-1.438-1.5-2.558 0-1.668 1.331-3 3-3z"/>
            <path d="m6 18v1h4v-1h-4z"/>
            <path d="m5 16v1h6v-1h-6z"/>
            <path style="opacity:.35" d="m7 8v1h2v-1h-2z"/>
            </g>
            <g style="fill:#f57900">
            <rect rx=".5625" ry=".5625" height="2" width="2" y="7.031" x=".006833"/>
            <rect rx=".5625" ry=".5625" height="2" width="2" y="7.031" x="14.01"/>
            <rect ry=".5625" rx=".5625" transform="rotate(90)" height="2" width="2" y="-9" x="0"/>
            <rect ry=".5625" rx=".5625" transform="rotate(135)" height="2" width="2" y="-12" x="-8"/>
            <rect ry=".5625" rx=".5625" transform="rotate(135)" height="2" width="2" y="-12" x="6"/>
            <rect ry=".5625" rx=".5625" transform="rotate(135)" height="2" width="2" y="-19" x="-1"/>
            <rect ry=".5625" rx=".5625" transform="rotate(45)" height="2" width="2" y="-.5996" x="3.724"/>
            <path style="opacity:.8" d="m7.109 8.217v1h2v-1h-2z"/>
            </g>
            </g>
          </svg>
      </button>
    </td>
  </tr>
  <tr>
    <td>
      <input id=bleftinput type=range class=mousetrap min=0 max=255 value=255 step=1 onclick=focus() />
    </td>
    <td>
      <output id=bleftvalue>100.0</output>
      <output id=brightvalue>100.0</output>
    </td>
    <td>
      <input id=brightinput type=range class=mousetrap min=0 max=255 value=255 step=1 onclick=focus() />
    </td>
  </tr>
  <tr>
    <td>
      <form onsubmit="formsend(this); return false" name=loadleft method=get>
        <input id=lleftinput type=number name=slide min=0 max=50>
        <input type=submit value=LOAD />
      </form>
    </td>
    <td>
      <button id=openbatch onclick="document.getElementById('batchpopup').classList.remove('hidden'); return false">BATCH</button>
    </td>
    <td>
      <form onsubmit="formsend(this); return false" name=loadright method=get>
        <input id=lrightinput type=number name=slide min=0 max=50>
        <input type=submit value=LOAD />
      </form>
    </td>
  </tr>
  <tr>
    <td colspan=3>
      <hr>
  </tr>
  <tr>
    <td class=right>
      <label for=dissolveinput>DISSOLVE</label>
    </td>
    <td class=centered>
      <input id=dissolveinput type=range class=mousetrap min=0 max=255 value=25 step=1 onclick=focus() />
    </td>
    <td class=left>
      <output id=dissolvevalue>&nbsp;&nbsp;2.5 Sek.</output>
    </td>
  </tr>
  <tr>
    <td colspan=3>
      <hr>
    </td>
  </tr>
  <tr>
    <td>
      <button id=pcmode onclick="submit({'action': 'togglePC'}, this)">PC MODE</button>
    </td>
    <td>
      <button id=end onclick="submit({'action': 'end'}, this)">END</button>
    </td>
    <td>
      <button onclick=toggleDark()>DARK</button>
    </td>
  </tr>
  <tr>
    <td colspan=3>
      <span id=res></span>
      <span id=error></span>
    </td>
  </tr>
</table>

<div id=batchpopup class=hidden>
<pre class=editable id=batchentry contenteditable=true></pre>
<button class=batch id=resetbatch onclick=resetBatch()>Reset</button>
<button class=batch id=closebatch onclick="document.getElementById('batchpopup').classList.add('hidden'); return false">Close</button>
<button class=batch id=runbatch onclick=sendBatch()><strong>Run Batch!</strong></button>
</div>

<div id=shortcuthelp class=hidden>
<table>
<tr>
<td class=subtable>
KEYBOARD SHORTCUTS
<table>
<tbody>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>1</td>
<td class=left>Left lamp on</td>
</tr>
<tr>
<td class=right>2</td>
<td class=left>Right lamp on</td>
</tr>
<tr>
<td class=right>3</td>
<td class=left>Left lamp off</td>
</tr>
<tr>
<td class=right>4</td>
<td class=left>Right Lamp off</td>
</tr>
<tr>
<td class=right>5</td>
<td class=left>Dissolve left to right</td>
</tr>
<tr>
<td class=right>6</td>
<td class=left>Dissolve right to left</td>
</tr>
<tr>
<td class=right>7</td>
<td class=left>Both lamps on</td>
</tr>
<tr>
<td class=right>8</td>
<td class=left>Both lamps off</td>
</tr>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>h</td>
<td class=left>Decrease brightness left</td>
</tr>
<tr>
<td class=right>j</td>
<td class=left>Increase brightness left</td>
</tr>
<tr>
<td class=right>k</td>
<td class=left>Decrease brightness right</td>
</tr>
<tr>
<td class=right>l</td>
<td class=left>Increase brightness right</td>
</tr>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>a</td>
<td class=left>Fade 0.5s shorter</td>
</tr>
<tr>
<td class=right>y</td>
<td class=left>Fade 0.5s longer</td>
</tr>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>&lt;</td>
<td class=left>Next slide</td>
</tr>
<tr>
<td class=right>&gt;</td>
<td class=left>Previous slide</td>
</tr>
<tr>
<td class=right>+</td>
<td class=left>Focus in</td>
</tr>
<tr>
<td class=right>-</td>
<td class=left>Focus out</td>
</tr>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>s</td>
<td class=left>Stop / Go</td>
</tr>
<tr>
<td class=right>p</td>
<td class=left>PC mode</td>
</tr>
<tr>
<td class=right>e</td>
<td class=left>End and rewind</td>
</tr>
<tr>
<td class=right>r</td>
<td class=left>Reset projector</td>
</tr>
</tbody>
</table>
</td>
<td class=subtable>
  BATCH COMMANDS
<table>
<tbody>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>BV</td>
<td class=left>Next slide</td>
</tr>
<tr>
<td class=right>BR</td>
<td class=left>Previous slide</td>
</tr>
<tr>
<td class=right>B1:XXX</td>
<td class=left>Load left</td>
</tr>
<tr>
<td class=right>B2:XXX</td>
<td class=left>Load right</td>
</tr>
<tr>
<td class=right>FV</td>
<td class=left>Focus in</td>
</tr>
<tr>
<td class=right>FR</td>
<td class=left>Focus out</td>
</tr>
<tr>
<td class=right>AE</td>
<td class=left>Autofocus on</td>
</tr>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>ST / WE</td>
<td class=left>Stop &amp; GO</td>
</tr>
<tr>
<td class=right>EN</td>
<td class=left>END</td>
</tr>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>SLEEP</td>
<td class=left>Seconds to wait</td>
</tr>
<tr>
<td class=right>GOTO</td>
<td class=left>Jump to "DEST:"</td>
</tr>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>LD1:XXX</td>
<td class=left>Brightness left</td>
</tr>
<tr>
<td class=right>LD2:XXX</td>
<td class=left>Brightness right</td>
</tr>
<tr>
<td class=right>SD:XXX</td>
<td class=left>Dissolve time</td>
</tr>
<tr>
<td class=right>LM:XXX</td>
<td class=left>200 Left on</td>
</tr>
<tr>
<td class=right></td>
<td class=left>201 Right on</td>
</tr>
<tr>
<td class=right></td>
<td class=left>202 Left off</td>
</tr>
<tr>
<td class=right></td>
<td class=left>203 Right off</td>
</tr>
<tr>
<td class=right></td>
<td class=left>204 Fade →</td>
</tr>
<tr>
<td class=right></td>
<td class=left>205 Fade ←</td>
</tr>
<tr>
<td class=right></td>
<td class=left>206 Both off</td>
</tr>
<tr>
<td class=right></td>
<td class=left>207 Both on</td>
</tr>
<tr>
<td colspan=2><hr></td>
</tr>
<tr>
<td class=right>PE</td>
<td class=left>Enable PC-Mode</td>
</tr>
<tr>
<td class=right>PA</td>
<td class=left>Disable PC-Mode</td>
</tr>
<tr>
<td class=right>RS</td>
<td class=left>RESET</td>
</tr>
</tbody>
</table>
</td>
</tr>
</table>
</div>
</body>
